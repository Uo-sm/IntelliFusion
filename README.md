# IntelliFusion

## 多模态大语言模型应用开发

IntelliFusion 是一个基于大语言模型的多模态应用，集成了文本、图像交互功能，并结合工具调用、知识库检索等能力，实现智能化问题解答与处理。

## 项目简介

本项目旨在开发一个综合性的大语言模型应用，满足人工智能基础期末大作业要求，包含以下核心特性：

- **多模态交互**：支持文本输入与图像上传，结合 deepseek、Qwen 等多模态模型
- **工具调用能力**：集成文件读取、天气查询、网络搜索等外部工具
- **知识库增强**：基于 RAG（检索增强生成）架构，实现上下文相关的智能回答
- **参数调优展示**：演示不同模型参数（temperature 等）对输出的影响
- **用户交互界面**：图形化界面（GUI）实现便捷的人机交互

## 功能特性

### 基础功能层
- **大语言模型集成**：支持 qwen、deepseek 等模型 API 调用
- **输入输出规范**：基于 JSON Schema 实现输入输出校验
- **交互界面**：tkinter 构建的图形化界面，支持命令行风格交互
- **参数调优展示**：直观展示 temperature 等参数对模型输出的影响

### 进阶功能层
- **多模态扩展**：支持图像输入与处理，结合多模态模型实现图文理解
- **工具调用决策**：智能判断并调用文件读取、天气查询、网络搜索等工具
- **RAG 架构**：实现领域知识库增强，基于 FAISS 索引和 text2vec 嵌入模型
- **记忆机制**：保存和加载对话历史，实现上下文感知的连续对话

### 创新功能
- **自主 Agent 设计**：实现多工具协同调用决策逻辑
- **新颖输出呈现**：结合 rich 库实现 Markdown 格式输出，增强可读性
- **问题解决方案**：针对特定领域需求，提供创新的 prompt engineering 方案


```

### 核心技术栈
- **编程语言**：Python 3.10+
- **框架/库**：
  - 大语言模型：OpenAI API、Qwen 等
  - 界面：tkinter
  - 工具：PyPDF2、requests、PyMuPDF 等
  - 知识库：scikit-learn（TF-IDF、余弦相似度）、FAISS（可选）
- **开发环境**：Conda 环境管理

## 快速开始

### 环境配置
1. **创建 Conda 环境**
   ```bash
   conda env create -f environment.yml
   ```

2. **激活环境**
   ```bash
   conda activate intellifusion
   ```

### 运行项目
```bash
python polishing.py
```

### 依赖管理
项目依赖通过 `environment.yml` 管理，包含：
- Python 3.13
- 大语言模型相关库：openai、qwen 等
- 工具相关库：PyPDF2、requests、python-docx 等
- 界面相关库：tkinter、PIL 等
- 知识库相关库：scikit-learn、numpy 等

## 项目结构
```
IntelliFusion/
├── polishing.py          # 主程序文件，包含 GUI 界面和核心逻辑
├── environment.yml       # Conda 环境配置文件
├── tool_config.yaml      # 工具配置文件
├── stopwords.txt         # 中文停用词表
└── docs/                 # 文档目录
    ├── technical_report/ # 技术报告
    └── demo_video/       # 演示视频
```

## 演示与使用说明

### 功能演示
1. **模型参数调优演示**：调整 temperature 参数（0.0-2.0），观察模型输出变化
2. **多模态功能演示**：上传图像并结合文本提问，使用 Qwen/QVQ-72B-Preview 模型
3. **工具调用演示**：
   - 文件读取：读取 PDF/Word/文本文件内容并提问
   - 天气查询：查询指定地点的天气信息
   - 网络搜索：针对实时信息进行网络检索
4. **RAG 功能演示**：加载领域知识文档，实现上下文相关的回答

### 使用说明
1. **界面操作**：
   - 配置设置：工具配置，知识库管理，记忆管理
   - 工具开关：勾选启用/禁用文件、天气、搜索工具
   - 模型选择：下拉菜单选择不同大语言模型
   - 参数调整：滑动条调整 temperature 参数
   - 图像上传：选择并上传图像（多模态模型专用）
   - 最下方输入框：输入问题或指令
     
3. **快捷键**：
   - `Enter`：发送消息
   - `Shift+Enter`：换行

## 团队协作与贡献

### 分工说明
- **界面开发**：负责 GUI 设计与交互逻辑实现
- **模型集成**：大语言模型 API 集成与参数调优
- **工具开发**：文件读取、天气查询、网络搜索工具实现
- **知识库模块**：RAG 架构设计与实现
- **测试与文档**：功能测试与技术文档编写

### 贡献指南
1. Fork 本仓库
2. 创建功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交更改 (`git commit -m 'Add some amazing feature'`)
4. 推送分支 (`git push origin feature/amazing-feature`)
5. 提交 Pull Request

## 评分标准对应说明

### 技术深度（20%）
- 实现多模型集成与参数调优展示
- 基于 RAG 架构的知识库增强，包含 embedding 模型选型与检索策略
- 多工具协同调用决策逻辑

### 功能完整度（30%）
- 核心功能闭环实现，包含输入输出校验
- 异常处理机制（API 失败重试、结构化输出失败处理）
- 单元测试覆盖关键功能

### 创新价值（20%）
- 多模态交互与工具调用结合的创新方案
- 自主 Agent 设计，实现多工具协同决策
- 新颖的输出呈现形式（Markdown 格式、富文本展示）

### 工程规范（10%）
- Git 版本控制规范，完整的提交历史
- API 密钥安全管理（通过环境变量加载）
- 依赖管理（environment.yml 完整描述）

### 展示质量（20%）
- 流畅的演示视频（3-5 分钟），包含功能演示与技术解说
- 完整的技术文档，包含需求分析、技术选型、实现细节等

## 许可证

本项目为课程作业，仅供学习交流使用。

## 联系方式
如有问题或建议，请通过课程交流群联系项目团队。
